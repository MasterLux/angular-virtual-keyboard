!function(e){var t=function(t,i,a,s,n){function o(e){var t=!1;try{t=!isNaN(e.selectionStart)&&!isNaN(e.selectionEnd)}catch(i){}return t}function r(e){"TD"==e.nodeName&&(e.click||(e.click=function(){var e=this.ownerDocument.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),this.dispatchEvent(e)}),e.VKI_clickless=0,d(e,"dblclick",function(){return!1},!1)),d(e,"mouseover",function(){if("TD"==this.nodeName&&K.VKI_clickless){var e=this;clearTimeout(this.VKI_clickless),this.VKI_clickless=setTimeout(function(){e.click()},K.VKI_clickless)}K.VKI_isIE&&(this.className+=" hover")},!1),d(e,"mouseout",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless),K.VKI_isIE&&(this.className=this.className.replace(/ ?(hover|pressed) ?/g,""))},!1),d(e,"mousedown",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless),K.VKI_isIE&&(this.className+=" pressed")},!1),d(e,"mouseup",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless),K.VKI_isIE&&(this.className=this.className.replace(/ ?pressed ?/g,""))},!1)}function l(){var e=!1,t=" ";if("small"!=this.firstChild.nodeName.toLowerCase()){if(" "==(t=this.firstChild.nodeValue))return!1}else t=this.firstChild.getAttribute("char");return K.VKI_deadkeysOn.checked&&K.VKI_dead&&(K.VKI_dead!=t?" "!=t?K.VKI_deadkey[K.VKI_dead][t]&&(K.VKI_insert(K.VKI_deadkey[K.VKI_dead][t]),e=!0):(K.VKI_insert(K.VKI_dead),e=!0):e=!0),K.VKI_dead=!1,e||(K.VKI_deadkeysOn.checked&&K.VKI_deadkey[t]?(K.VKI_dead=t,this.className+=" dead",K.VKI_shift&&K.VKI_modify("Shift"),K.VKI_altgr&&K.VKI_modify("AltGr")):K.VKI_insert(t)),K.VKI_modify(""),!1}function d(e,t,i,a){e.addEventListener?e.addEventListener(t,function(t){i.call(e,t)},a):e.attachEvent&&e.attachEvent("on"+t,function(){i.call(e)})}function c(e){for(var t=curtop=0,i=e;(i=i.parentNode)&&i!=document.body;)t-=i.scrollLeft||0,curtop-=i.scrollTop||0;do t+=e.offsetLeft,curtop+=e.offsetTop;while(e=e.offsetParent);return[t,curtop]}function h(){return K.innerHeight?[K.innerWidth,K.innerHeight]:document.documentElement&&document.documentElement.clientHeight?[document.documentElement.clientWidth,document.documentElement.clientHeight]:document.body?[document.body.clientWidth,document.body.clientHeight]:[0,0]}function I(){var e=document.getElementsByTagName("html")[0];return e.scrollTop&&document.documentElement.scrollTop?[e.scrollLeft,e.scrollTop]:e.scrollTop||document.documentElement.scrollTop?[e.scrollLeft+document.documentElement.scrollLeft,e.scrollTop+document.documentElement.scrollTop]:document.body.scrollTop?[document.body.scrollLeft,document.body.scrollTop]:[0,0]}function V(e,t){if(e.currentStyle)var i=e.currentStyle[t];else if(window.getComputedStyle)var i=window.getComputedStyle(e,null)[t];return i}var K=this,_=t||{};if(K.keyInputCallback=n||function(){},this.VKI_version="1.49",this.VKI_showVersion=void 0!==_.showVersion?_.showVersion:!1,this.VKI_target=!1,this.VKI_shift=this.VKI_shiftlock=!1,this.VKI_altgr=this.VKI_altgrlock=!1,this.VKI_dead=!1,this.VKI_deadBox=void 0!=_.showDeadBox?_.showDeadBox:!0,this.VKI_deadkeysOn=void 0!==_.deadkeysOn?_.deadkeysOn:!0,this.VKI_numberPad=void 0!==_.numberPad?_.numberPad:!1,this.VKI_numberPadOn=void 0!==_.showNumberPad?_.showNumberPad:!1,this.VKI_kts=this.VKI_kt=_.kt||"US International",this.VKI_langAdapt=!_.kt,this.VKI_size=_.size>=1&&_.size<=5?_.size:3,this.VKI_sizeAdj=_.sizeAdj===!1?!1:!0,this.VKI_clearPasswords=!1,this.VKI_imageURI=void 0!==_.imageURI?_.imageURI:"",this.VKI_clickless=0,this.VKI_activeTab=isNaN(_.activeTab)?0:_.activeTab,this.VKI_keyCenter=_.keyCenter||3,this.VKI_forcePosition=_.forcePosition||!1,this.VKI_relative=_.relative===!1?!1:!0,this.VKI_displayHeader=_.displayVkiHeaderAction===!1?!1:!0,this.VKI_positionOption=_.position instanceof Object?_.position:{},this.VKI_keyboardLocation=null!=_.keyboardLocation?_.keyboardLocation:null,this.VKI_isIE=!1,this.VKI_isIE6=!1,this.VKI_isIElt8=!1,this.VKI_isWebKit=RegExp("KHTML").test(navigator.userAgent),this.VKI_isOpera=RegExp("Opera").test(navigator.userAgent),this.VKI_isMoz=!this.VKI_isWebKit&&"Gecko"==navigator.product,this.VKI_enterSubmit=_.enterSubmit||!1,this.VKI_showKbSelect=_.showKbSelect||!1,this.VKI_i18n=_.i18n,this.VKI_layout=i,this.VKI_deadkey=s,this.VKI_symbol={" ":"NB\nSP","​":"ZW\nSP","‌":"ZW\nNJ","‍":"ZW\nJ"},null!=a?this.VKI_numpad=a:this.VKI_numpad=[[["$"],["£"],["€"],["¥"]],[["7"],["8"],["9"],["/"]],[["4"],["5"],["6"],["*"]],[["1"],["2"],["3"],["-"]],[["0"],["."],["="],["+"]]],K.attachVki=function(t){if(t.getAttribute("VKI_attached"))return!1;if(K.VKI_imageURI){var i=document.createElement("img");i.src=K.VKI_imageURI,i.alt=K.VKI_i18n["01"],i.className="keyboardInputInitiator",i.title=K.VKI_i18n["01"],i.elem=t,i.onclick=function(e){e=e||event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,K.VKI_show(this.elem)},t.parentNode.insertBefore(i,"rtl"==t.dir?t:t.nextSibling)}else t.onfocus=function(){K.VKI_target!=this&&(K.VKI_target&&K.VKI_close(!1),K.VKI_show(this))},t.onclick=function(){K.VKI_target||K.VKI_show(this)};t.setAttribute("VKI_attached","true"),K.VKI_isIE&&(t.onclick=t.onselect=t.onkeyup=function(e){"keyup"==(e||event).type&&this.readOnly||(this.range=document.selection.createRange())}),d(t,"click",function(e){return K.VKI_target==this&&(e=e||event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0),!1},!1),K.VKI_isMoz&&t.addEventListener("blur",function(){this.setAttribute("_scrollTop",this.scrollTop)},!1),d(document.documentElement,"click",function(e){K.VKI_close(!1)},!1),e.element(t).bind("VKI_close",function(){K.VKI_close(!1)})},this.VKI_keyboard=document.createElement("table"),this.VKI_keyboard.className="keyboardInputMaster",this.VKI_relative&&(K.VKI_keyboard.className+=" relativeKeyboard"),this.VKI_keyboard.dir="ltr",this.VKI_keyboard.cellSpacing="0",this.VKI_keyboard.reflow=function(){this.style.width="50px";this.offsetWidth;this.style.width=""},d(this.VKI_keyboard,"click",function(e){return e=e||event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1},!1),!this.VKI_layout[this.VKI_kt])return alert('No keyboard named "'+this.VKI_kt+'"');this.VKI_langCode={};var u=5;if(this.VKI_displayHeader){u=4;var p=document.createElement("thead"),f=document.createElement("tr"),m=document.createElement("th");if(m.colSpan="2",K.VKI_showKbSelect){var g=document.createElement("div");g.title=this.VKI_i18n["02"],d(g,"click",function(){var e=this.getElementsByTagName("ol")[0];if(e.style.display)e.style.display="";else{e.style.display="block";for(var t=e.getElementsByTagName("li"),i=0,a=0;i<t.length;i++)VKI_kt==t[i].firstChild.nodeValue?(t[i].className="selected",a=t[i].offsetTop-2*t[i].offsetHeight):t[i].className="";setTimeout(function(){e.scrollTop=a},0)}},!1),g.appendChild(document.createTextNode(this.VKI_kt)),g.appendChild(document.createTextNode(this.VKI_isIElt8?" ↓":" ▾")),g.langCount=0;var y=document.createElement("ol");for(ktype in this.VKI_layout)if("object"==typeof this.VKI_layout[ktype]){this.VKI_layout[ktype].lang||(this.VKI_layout[ktype].lang=[]);for(var k=0;k<this.VKI_layout[ktype].lang.length;k++)this.VKI_langCode[this.VKI_layout[ktype].lang[k].toLowerCase().replace(/-/g,"_")]=ktype;var b=document.createElement("li");b.title=this.VKI_layout[ktype].name,d(b,"click",function(e){e=e||event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.parentNode.style.display="",K.VKI_kts=K.VKI_kt=g.firstChild.nodeValue=this.firstChild.nodeValue,K.VKI_buildKeys(),K.VKI_position(!0)},!1),r(b),b.appendChild(document.createTextNode(ktype)),y.appendChild(b),g.langCount++}g.appendChild(y),g.langCount>1&&m.appendChild(g),this.VKI_langCode.index=[];for(prop in this.VKI_langCode)"index"!=prop&&"string"==typeof this.VKI_langCode[prop]&&this.VKI_langCode.index.push(prop);this.VKI_langCode.index.sort(),this.VKI_langCode.index.reverse()}if(this.VKI_numberPad){var v=document.createElement("span");v.appendChild(document.createTextNode("#")),v.title=this.VKI_i18n["00"],d(v,"click",function(){B.style.display=B.style.display?"":"none",K.VKI_position(!0),K.VKI_target.focus()},!1),r(v),m.appendChild(v)}if(this.VKI_sizeAdj){var C=document.createElement("small");C.title=this.VKI_i18n[10],d(C,"click",function(){--K.VKI_size,K.VKI_kbsize(),K.VKI_target.focus()},!1),r(C),C.appendChild(document.createTextNode(this.VKI_isIElt8?"↓":"⇓")),m.appendChild(C);var E=document.createElement("big");E.title=this.VKI_i18n[11],d(E,"click",function(){++K.VKI_size,K.VKI_kbsize(),K.VKI_target.focus()},!1),r(E),E.appendChild(document.createTextNode(this.VKI_isIElt8?"↑":"⇑")),m.appendChild(E)}var v=document.createElement("span");v.appendChild(document.createTextNode(this.VKI_i18n["07"])),v.title=this.VKI_i18n["08"],d(v,"click",function(){return K.VKI_target.value="",K.VKI_target.focus(),K.keyInputCallback(),!1},!1),r(v),m.appendChild(v);var N=document.createElement("strong");N.appendChild(document.createTextNode("X")),N.title=this.VKI_i18n["06"],d(N,"click",function(){K.VKI_close(!0)},!1),r(N),m.appendChild(N),f.appendChild(m),p.appendChild(f),this.VKI_keyboard.appendChild(p)}this.VKI_kbsize=function(e){K.VKI_size=Math.min(u,Math.max(1,K.VKI_size)),K.VKI_keyboard.className=K.VKI_keyboard.className.replace(/ ?keyboardInputSize\d ?/,""),2!=K.VKI_size&&(K.VKI_keyboard.className+=" keyboardInputSize"+K.VKI_size),K.VKI_position(!0),K.VKI_isOpera&&K.VKI_keyboard.reflow()};var x=document.createElement("tbody"),f=document.createElement("tr"),T=document.createElement("td");T.className="keyboardsArea";var w=document.createElement("table"),A=document.createElement("tr"),O=document.createElement("td");O.className="keyboardInputTextPad";var S=document.createElement("div");if(this.VKI_deadBox){var P=document.createElement("label"),z=document.createElement("input");z.type="checkbox",z.title=this.VKI_i18n["03"]+": "+(this.VKI_deadkeysOn?this.VKI_i18n["04"]:this.VKI_i18n["05"]),z.defaultChecked=this.VKI_deadkeysOn,d(z,"click",function(){return this.title=K.VKI_i18n["03"]+": "+(this.checked?K.VKI_i18n["04"]:K.VKI_i18n["05"]),K.VKI_modify(""),!0},!1),P.appendChild(z),z.checked=this.VKI_deadkeysOn,S.appendChild(P),this.VKI_deadkeysOn=z}else this.VKI_deadkeysOn.checked=this.VKI_deadkeysOn;if(this.VKI_showVersion){var L=document.createElement("var");L.title=this.VKI_i18n["09"]+" "+this.VKI_version,L.appendChild(document.createTextNode("v"+this.VKI_version)),S.appendChild(L)}O.appendChild(S);var B=document.createElement("td");B.className="keyboardInputNumpad",this.VKI_numberPadOn||(B.style.display="none");var H=document.createElement("table");H.cellSpacing="0";for(var R=document.createElement("tbody"),k=0;k<this.VKI_numpad.length;k++){for(var U=document.createElement("tr"),W=0;W<this.VKI_numpad[k].length;W++){var D=document.createElement("td");d(D,"click",l,!1),r(D),D.appendChild(document.createTextNode(this.VKI_numpad[k][W])),U.appendChild(D)}R.appendChild(U)}return H.appendChild(R),B.appendChild(H),A.appendChild(O),A.appendChild(B),w.appendChild(A),T.appendChild(w),f.appendChild(T),x.appendChild(f),this.VKI_keyboard.appendChild(x),this.VKI_isIE6&&(this.VKI_iframe=document.createElement("iframe"),this.VKI_iframe.style.position="absolute",this.VKI_iframe.style.border="0px none",this.VKI_iframe.style.filter="mask()",this.VKI_iframe.style.zIndex="999999",this.VKI_iframe.src=this.VKI_imageURI),this.VKI_buildKeys=function(){this.VKI_shift=this.VKI_shiftlock=this.VKI_altgr=this.VKI_altgrlock=this.VKI_dead=!1;for(var e=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0],t=e.getElementsByTagName("table"),i=t.length-1;i>=0;i--)e.removeChild(t[i]);for(var a,i=0,s=!1;a=this.VKI_layout[this.VKI_kt].keys[i++];){var n=document.createElement("table");n.cellSpacing="0",a.length<=this.VKI_keyCenter&&(n.className="keyboardInputCenter");for(var c,h=document.createElement("tbody"),I=document.createElement("tr"),V=0;c=a[V++];){var _=document.createElement("td");if(this.VKI_symbol[c[0]]){var u=this.VKI_symbol[c[0]].split("\n"),p=document.createElement("small");p.setAttribute("char",c[0]);for(var f=0;f<u.length;f++)f&&p.appendChild(document.createElement("br")),p.appendChild(document.createTextNode(u[f]));_.appendChild(p)}else _.appendChild(document.createTextNode(c[0]||" "));var m=[];if(this.VKI_deadkeysOn.checked)for(key in this.VKI_deadkey)if(key===c[0]){m.push("deadkey");break}switch(a.length>this.VKI_keyCenter&&V==a.length&&m.push("last"),(" "==c[0]||" "==c[1])&&m.push("space"),_.className=m.join(" "),c[1]){case"Caps":case"Shift":case"Alt":case"AltGr":case"AltLk":d(_,"click",function(e){return function(){return K.VKI_modify(e),!1}}(c[1]),!1);break;case"Tab":d(_,"click",function(){if(K.VKI_activeTab)if(K.VKI_target.form){var e=K.VKI_target,t=e.form.elements;K.VKI_close(!1);for(var i=0,a=!1,s=-1;i<t.length;i++)if(-1==s&&t[i].getAttribute("VKI_attached")&&(s=i),a){if(1==K.VKI_activeTab&&t[i])break;if(t[i].getAttribute("VKI_attached"))break}else t[i]==e&&(a=!0);i==t.length&&(i=Math.max(s,0)),t[i].getAttribute("VKI_attached")?K.VKI_show(t[i]):t[i].focus()}else K.VKI_target.focus();else K.VKI_insert("	");return!1},!1);break;case"Bksp":d(_,"click",function(){if(K.VKI_target.focus(),K.VKI_target.setSelectionRange&&o(K.VKI_target)&&!K.VKI_target.readOnly){var e=[K.VKI_target.selectionStart,K.VKI_target.selectionEnd];e[0]<e[1]&&e[0]++,K.VKI_target.value=K.VKI_target.value.substr(0,e[0]-1)+K.VKI_target.value.substr(e[1]),K.VKI_target.setSelectionRange(e[0]-1,e[0]-1)}else if(K.VKI_target.createTextRange&&!K.VKI_target.readOnly){try{K.VKI_target.range.select()}catch(t){K.VKI_target.range=document.selection.createRange()}K.VKI_target.range.text.length||K.VKI_target.range.moveStart("character",-1),K.VKI_target.range.text=""}else K.VKI_target.value=K.VKI_target.value.substr(0,K.VKI_target.value.length-1);return K.VKI_shift&&K.VKI_modify("Shift"),K.VKI_altgr&&K.VKI_modify("AltGr"),K.VKI_target.focus(),K.keyInputCallback(),!0},!1);break;case"Enter":d(_,"click",function(){if("TEXTAREA"!=K.VKI_target.nodeName){if("function"==typeof K.VKI_enterSubmit)K.VKI_enterSubmit.apply({},[K.VKI_target.value]);else if(K.VKI_enterSubmit&&K.VKI_target.form){for(var e=0,t=!1;e<K.VKI_target.form.elements.length;e++)"submit"==K.VKI_target.form.elements[e].type&&(t=!0);t||K.VKI_target.form.submit()}K.VKI_close(!1)}else K.VKI_insert("\n");return!0},!1);break;default:d(_,"click",l,!1)}r(_),I.appendChild(_);for(var f=0;4>f;f++)this.VKI_deadkey[c[f]=c[f]||""]&&(s=!0)}h.appendChild(I),n.appendChild(h),e.appendChild(n)}this.VKI_deadBox&&(this.VKI_deadkeysOn.style.display=s?"inline":"none"),this.VKI_isIE6&&(this.VKI_iframe.style.width=this.VKI_keyboard.offsetWidth+"px",this.VKI_iframe.style.height=this.VKI_keyboard.offsetHeight+"px")},this.VKI_buildKeys(),d(this.VKI_keyboard,"selectstart",function(){return!1},!1),this.VKI_keyboard.unselectable="on",this.VKI_isOpera&&d(this.VKI_keyboard,"mousedown",function(){return!1},!1),this.VKI_modify=function(e){switch(e){case"Alt":case"AltGr":this.VKI_altgr=!this.VKI_altgr;break;case"AltLk":this.VKI_altgr=0,this.VKI_altgrlock=!this.VKI_altgrlock;break;case"Caps":this.VKI_shift=0,this.VKI_shiftlock=!this.VKI_shiftlock;break;case"Shift":this.VKI_shift=!this.VKI_shift}var t=0;!this.VKI_shift!=!this.VKI_shiftlock&&(t+=1),!this.VKI_altgr!=!this.VKI_altgrlock&&(t+=2);for(var i=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0].getElementsByTagName("table"),a=0;a<i.length;a++)for(var s=i[a].getElementsByTagName("td"),n=0;n<s.length;n++){var o=[],r=this.VKI_layout[this.VKI_kt].keys[a][n];switch(r[1]){case"Alt":case"AltGr":this.VKI_altgr&&o.push("pressed"),K.VKI_target.focus();break;case"AltLk":this.VKI_altgrlock&&o.push("pressed"),K.VKI_target.focus();break;case"Shift":this.VKI_shift&&o.push("pressed"),K.VKI_target.focus();break;case"Caps":this.VKI_shiftlock&&o.push("pressed"),K.VKI_target.focus();break;case"Tab":case"Bksp":K.VKI_target.focus();case"Enter":break;default:if(e)if(s[n].removeChild(s[n].firstChild),this.VKI_symbol[r[t]]){var l=this.VKI_symbol[r[t]].split("\n"),d=document.createElement("small");d.setAttribute("char",r[t]);for(var c=0;c<l.length;c++)c&&d.appendChild(document.createElement("br")),d.appendChild(document.createTextNode(l[c]));s[n].appendChild(d)}else s[n].appendChild(document.createTextNode(r[t]||" "));if(this.VKI_deadkeysOn.checked){var h=s[n].firstChild.nodeValue||s[n].firstChild.className;this.VKI_dead&&(h==this.VKI_dead&&o.push("pressed"),this.VKI_deadkey[this.VKI_dead][h]&&o.push("target")),this.VKI_deadkey[h]&&o.push("deadkey")}}n==s.length-1&&s.length>this.VKI_keyCenter&&o.push("last"),(" "==r[0]||" "==r[1])&&o.push("space"),s[n].className=o.join(" ")}},this.VKI_insert=function(e){if(this.VKI_target.focus(),this.VKI_target.maxLength&&(this.VKI_target.maxlength=this.VKI_target.maxLength),"undefined"==typeof this.VKI_target.maxlength||this.VKI_target.maxlength<0||this.VKI_target.value.length<this.VKI_target.maxlength){if(this.VKI_target.setSelectionRange&&o(this.VKI_target)&&!this.VKI_target.readOnly&&!this.VKI_isIE){var t=[this.VKI_target.selectionStart,this.VKI_target.selectionEnd];this.VKI_target.value=this.VKI_target.value.substr(0,t[0])+e+this.VKI_target.value.substr(t[1]),"\n"==e&&this.VKI_isOpera&&t[0]++,this.VKI_target.setSelectionRange(t[0]+e.length,t[0]+e.length)}else if(this.VKI_target.createTextRange&&!this.VKI_target.readOnly){try{this.VKI_target.range.select()}catch(i){this.VKI_target.range=document.selection.createRange()}this.VKI_target.range.text=e,this.VKI_target.range.collapse(!0),this.VKI_target.range.select()}else this.VKI_target.value+=e;this.VKI_shift&&this.VKI_modify("Shift"),this.VKI_altgr&&this.VKI_modify("AltGr"),this.VKI_target.focus(),this.keyInputCallback()}else this.VKI_target.createTextRange&&this.VKI_target.range&&this.VKI_target.range.select()},this.VKI_show=function(e){if(this.VKI_target)this.VKI_close(!1);else{if(this.VKI_target=e,this.VKI_langAdapt&&this.VKI_target.lang){for(var t=!1,i=this.VKI_target.lang.toLowerCase().replace(/-/g,"_"),a=0,t=!1;!t&&a<this.VKI_langCode.index.length;a++)0==i.indexOf(this.VKI_langCode.index[a])&&K.VKI_showKbSelect&&(t=g.firstChild.nodeValue=this.VKI_kt=this.VKI_langCode[this.VKI_langCode.index[a]]);t&&this.VKI_buildKeys()}this.VKI_isIE&&(this.VKI_target.range||(this.VKI_target.range=this.VKI_target.createTextRange(),this.VKI_target.range.moveStart("character",this.VKI_target.value.length)),this.VKI_target.range.select());try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard)}catch(s){}this.VKI_clearPasswords&&"password"==this.VKI_target.type&&(this.VKI_target.value="");var e=this.VKI_target;this.VKI_target.keyboardPosition="absolute";do if("fixed"==V(e,"position")){this.VKI_target.keyboardPosition="fixed";break}while(e=e.offsetParent);var n=document.body;if(null!==this.VKI_keyboardLocation){var o=document.getElementById(this.VKI_keyboardLocation);null===o?alert("The given id '"+this.VKI_keyboardLocation+"'  to append the keyboard is not valid"):n=o}this.VKI_isIE6&&n.appendChild(this.VKI_iframe),n.appendChild(this.VKI_keyboard),this.VKI_keyboard.style.position=this.VKI_target.keyboardPosition,this.VKI_isOpera&&this.VKI_keyboard.reflow(),this.VKI_position(!0),(K.VKI_isMoz||K.VKI_isWebKit)&&this.VKI_position(!0),this.VKI_target.blur(),this.VKI_target.focus(),this.VKI_closeOthers()}},this.VKI_closeOthers=function(){function t(t){if("true"===t.getAttribute("VKI_attached")&&!e.equals(K.VKI_target,t)){var i=e.element(t);i.triggerHandler("VKI_close")}}e.forEach(e.element(document).find("input"),t),e.forEach(e.element(document).find("textarea"),t)},this.VKI_position=function(e){if("fixed"===K.VKI_positionOption.type)return K.VKI_keyboard.style.position="fixed",K.VKI_keyboard.style.bottom=K.VKI_positionOption.bottom||"0px",K.VKI_keyboard.style.left=K.VKI_positionOption.left||"0px",void(K.VKI_keyboard.style.width=K.VKI_positionOption.width||"100%");if("relative-bottom"===K.VKI_positionOption.type)return K.VKI_keyboard.style.position="relative",K.VKI_keyboard.style["margin-top"]=K.VKI_positionOption.top||"0px",K.VKI_keyboard.style["margin-bottom"]=K.VKI_positionOption.bottom||"0px",K.VKI_keyboard.style["margin-left"]=K.VKI_positionOption.left||"0px",void(K.VKI_keyboard.style.width=K.VKI_positionOption.width||"100%");if(!K.VKI_relative)return K.VKI_keyboard.style.position="fixed",K.VKI_keyboard.style.bottom=K.VKI_positionOption.bottom||"0px",K.VKI_keyboard.style.left=K.VKI_positionOption.left||"0px",void(K.VKI_keyboard.style.width=K.VKI_positionOption.width||"100%");if(K.VKI_target){var t=c(K.VKI_keyboard),i=h(),a=I(),s=!1,n=K.VKI_target.offsetHeight+3;if("top"===K.VKI_forcePosition&&(n=-K.VKI_keyboard.offsetHeight-3),e!==!0&&(t[1]+K.VKI_keyboard.offsetHeight-a[1]-i[1]>0&&"bottom"!==K.VKI_forcePosition?(s=!0,n=-K.VKI_keyboard.offsetHeight-3):t[1]-a[1]<0&&(s=!0)),s||e===!0){for(var o=c(K.VKI_target),r=K.VKI_target;(r=r.parentNode)&&r!=document.body;)if(r.scrollHeight>r.offsetHeight||r.scrollWidth>r.offsetWidth){r.getAttribute("VKI_scrollListener")||(r.setAttribute("VKI_scrollListener",!0),d(r,"scroll",function(){K.VKI_position(!0)},!1));var l=c(r),V=o[1]-l[1],_=o[0]-l[0],u=V+K.VKI_target.offsetHeight,p=_+K.VKI_target.offsetWidth,f=r.offsetHeight-V-K.VKI_target.offsetHeight,m=r.offsetWidth-_-K.VKI_target.offsetWidth;K.VKI_keyboard.style.display=0>u||0>p||0>f||0>m?"none":"",K.VKI_isIE6&&(K.VKI_iframe.style.display=0>u||0>p||0>f||0>m?"none":"")}K.VKI_keyboard.style.top=o[1]-("fixed"!=K.VKI_target.keyboardPosition||K.VKI_isIE||K.VKI_isMoz?0:a[1])+n+"px",K.VKI_keyboard.style.left=Math.max(10,Math.min(i[0]-K.VKI_keyboard.offsetWidth-25,o[0]))+"px",K.VKI_isIE6&&(K.VKI_iframe.style.width=K.VKI_keyboard.offsetWidth+"px",K.VKI_iframe.style.height=K.VKI_keyboard.offsetHeight+"px",K.VKI_iframe.style.top=K.VKI_keyboard.style.top,K.VKI_iframe.style.left=K.VKI_keyboard.style.left)}e===!0&&K.VKI_position()}},this.VKI_close=function(e){if(this.VKI_target){try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard),this.VKI_isIE6&&this.VKI_iframe.parentNode.removeChild(this.VKI_iframe)}catch(t){}this.VKI_showKbSelect&&(this.VKI_kt!=this.VKI_kts&&(g.firstChild.nodeValue=this.VKI_kt=this.VKI_kts,this.VKI_buildKeys()),g.getElementsByTagName("ol")[0].style.display=""),e&&this.VKI_target.focus(),this.VKI_isIE?setTimeout(function(){K.VKI_target=!1},0):this.VKI_target=!1}},d(window,"resize",this.VKI_position,!1),d(window,"scroll",this.VKI_position,!1),this.VKI_kbsize(),K};e.module("angular-virtual-keyboard",[]).constant("VKI_CONFIG",{layout:{"US International":{name:"US International",keys:[[["`","~"],["1","!","¡","¹"],["2","@","²"],["3","#","³"],["4","$","¤","£"],["5","%","€"],["6","^","¼"],["7","&","½"],["8","*","¾"],["9","(","‘"],["0",")","’"],["-","_","¥"],["=","+","×","÷"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","ä","Ä"],["w","W","å","Å"],["e","E","é","É"],["r","R","®"],["t","T","þ","Þ"],["y","Y","ü","Ü"],["u","U","ú","Ú"],["i","I","í","Í"],["o","O","ó","Ó"],["p","P","ö","Ö"],["[","{","«"],["]","}","»"],["\\","|","¬","¦"]],[["Caps","Caps"],["a","A","á","Á"],["s","S","ß","§"],["d","D","ð","Ð"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L","ø","Ø"],[";",":","¶","°"],["'",'"',"´","¨"],["Enter","Enter"]],[["Shift","Shift"],["z","Z","æ","Æ"],["x","X"],["c","C","©","¢"],["v","V"],["b","B"],["n","N","ñ","Ñ"],["m","M","µ"],[",","<","ç","Ç"],[".",">"],["/","?","¿"],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],lang:["en"]}},deadkey:{"~":{a:"ã",l:"ł",n:"ñ",o:"õ",A:"Ã",L:"Ł",N:"Ñ",O:"Õ"},"^":{a:"â",e:"ê",i:"î",o:"ô",u:"û",w:"ŵ",y:"ŷ",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û",W:"Ŵ",Y:"Ŷ"},"`":{a:"à",e:"è",i:"ì",o:"ò",u:"ù","ü":"ǜ",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù","Ü":"Ǜ"},"'":{a:"á",e:"é",i:"í",o:"ó",u:"ú",y:"ý","α":"ά","ε":"έ","η":"ή","ι":"ί","ο":"ό","υ":"ύ","ω":"ώ","ü":"ǘ",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú",Y:"Ý","Α":"Ά","Ε":"Έ","Η":"Ή","Ι":"Ί","Ο":"Ό","Υ":"Ύ","Ω":"Ώ","Ü":"Ǘ"},"´":{a:"á",e:"é",i:"í",o:"ó",u:"ú",y:"ý","α":"ά","ε":"έ","η":"ή","ι":"ί","ο":"ό","υ":"ύ","ω":"ώ","ü":"ǘ",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú",Y:"Ý","Α":"Ά","Ε":"Έ","Η":"Ή","Ι":"Ί","Ο":"Ό","Υ":"Ύ","Ω":"Ώ","Ü":"Ǘ"},"¨":{a:"ä",e:"ë",i:"ï",o:"ö",u:"ü",y:"ÿ","ι":"ϊ","υ":"ϋ","ū":"ǖ","ú":"ǘ","ǔ":"ǚ","ù":"ǜ",A:"Ä",E:"Ë",I:"Ï",O:"Ö",U:"Ü",Y:"Ÿ","Ι":"Ϊ","Υ":"Ϋ","Ū":"Ǖ","Ú":"Ǘ","Ǔ":"Ǚ","Ù":"Ǜ","か":"が","き":"ぎ","く":"ぐ","け":"げ","こ":"ご","た":"だ","ち":"ぢ","つ":"づ","て":"で","と":"ど","さ":"ざ","し":"じ","す":"ず","せ":"ぜ","そ":"ぞ","は":"ば","ひ":"び","ふ":"ぶ","へ":"べ","ほ":"ぼ","カ":"ガ","キ":"ギ","ク":"グ","ケ":"ゲ","コ":"ゴ","タ":"ダ","チ":"ヂ","ツ":"ヅ","テ":"デ","ト":"ド","サ":"ザ","シ":"ジ","ス":"ズ","セ":"ゼ","ソ":"ゾ","ハ":"バ","ヒ":"ビ","フ":"ブ","ヘ":"ベ","ホ":"ボ"}},kt:"US International",i18n:{"00":"Display Number Pad","01":"Display virtual keyboard interface","02":"Select keyboard layout","03":"Dead keys","04":"On","05":"Off","06":"Close the keyboard","07":"Clear","08":"Clear this input","09":"Version",10:"Decrease keyboard size",11:"Increase keyboard size"},relative:!0,sizeAdj:!0}).service("ngVirtualKeyboardService",["VKI_CONFIG",function(e){return{attach:function(i,a,s){a=a||{},a.i18n=a.i18n||e.i18n,a.kt=a.kt||e.kt,a.relative=a.relative===!1?!1:e.relative,a.keyCenter=a.keyCenter||e.keyCenter,a.sizeAdj=a.sizeAdj===!1?!1:e.sizeAdj,a.numberPad=a.numberPad||e.numberPad,a.showNumberPad=a.showNumberPad||e.showNumberPad,a.showDeadBox=a.showDeadBox||e.showDeadBox,a.activeTab=a.activeTab||e.activeTab,a.displayVkiHeaderAction=a.displayVkiHeaderAction||e.displayVkiHeaderAction,a.enterSubmit=a.enterSubmit||e.enterSubmit,a.position=a.position||e.position,a.keyboardLocation=a.keyboardLocation||e.keyboardLocation;var n=new t(a,e.layout,e.numPadLayout,e.deadkey,s);n.attachVki(i)}}}]).directive("ngVirtualKeyboard",["ngVirtualKeyboardService","$timeout","$injector",function(e,t,i){return{restrict:"A",require:"?ngModel",scope:{config:"=ngVirtualKeyboard"},link:function(a,s,n,o){if(o){if(i.has("UAParser")){var r=i.get("UAParser"),l=(new r).getResult(),d="mobile"===l.device.type||"tablet"===l.device.type;if(d=d||l.os&&"Android"===l.os.name,d=d||l.os&&"iOS"===l.os.name,d&&a.config.showInMobile!==!0)return}e.attach(s[0],a.config,function(){t(function(){o.$setViewValue(s[0].value)})})}}}}]).directive("ngStaticVirtualKeyboard",["ngVirtualKeyboardService","$timeout","$injector",function(e,t,i){return{restrict:"A",require:"?ngModel",link:function(a,s,n,o){if(o){if(i.has("UAParser")){var r=i.get("UAParser"),l=(new r).getResult(),d="mobile"===l.device.type||"tablet"===l.device.type;if(d=d||l.os&&"Android"===l.os.name,d=d||l.os&&"iOS"===l.os.name)return}e.attach(s[0],{},function(){t(function(){o.$setViewValue(s[0].value)})})}}}}])}(angular);